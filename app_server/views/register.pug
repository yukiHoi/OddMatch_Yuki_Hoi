extends layout

block content
  .main-login.main-center
    h3 Sign up once and watch the odds comparison.
    if error
      .alert.alert-danger(role="alert") #{error}
    if success
      .alert.alert-success(role="alert") #{success}

    if error 
      p(style="color:red") #{error}
    if success
      p(style="color:green") #{success}

    form(method="post", action="/register")
      .form-group
        label.cols-sm-2.control-label(for='firstName') First Name
        .cols-sm-10
          .input-group
            span.input-group-addon
              i.fa.fa-user.fa(aria-hidden='true')
            input#Fname.form-control(type='text', name='firstName', placeholder='Enter your First Name', required)

      .form-group
        label.cols-sm-2.control-label(for='lastName') Last Name
        .cols-sm-10
          .input-group
            span.input-group-addon
              i.fa.fa-users.fa(aria-hidden='true')
            input#Lname.form-control(type='text', name='lastName', placeholder='Enter your Last Name', required)

      .form-group
        label.cols-sm-2.control-label(for='email') Your Email
        .cols-sm-10
          .input-group
            span.input-group-addon
              i.fa.fa-envelope.fa(aria-hidden='true')
            input#email.form-control(type='email', name='email', placeholder='Enter your Email', required)

      .form-group
        label.cols-sm-2.control-label(for='phoneNo') Phone Number
        .cols-sm-10
          .input-group
            span.input-group-addon
              i.fa.fa-phone.fa(aria-hidden='true')
            input#phoneNo.form-control(type='text', name='phoneNo', placeholder='Enter your Phone No')

      .form-group
        label.cols-sm-2.control-label(for='address') Address
        .cols-sm-10
          .input-group
            span.input-group-addon
              i.fa.fa-home.fa(aria-hidden='true')
            input#address.form-control(type='text', name='address', placeholder='Enter your Address')

      .form-group
        label.cols-sm-2.control-label(for='password') Password
        .cols-sm-10
          .input-group
            span.input-group-addon
              i.fa.fa-lock.fa-lg(aria-hidden='true')
            input#password.form-control(type='password', name='password', placeholder='Enter your Password', minlength='8', required)

      .form-group
        label.cols-sm-2.control-label(for='confirm') Confirm Password
        .cols-sm-10
          .input-group
            span.input-group-addon
              i.fa.fa-lock.fa-lg(aria-hidden='true')
            input#confirm.form-control(type='password', name='confirm', placeholder='Confirm your Password', minlength='8', required)

      .form-group
        button#button.btn.btn-primary.btn-lg.btn-block.login-button(type='submit') Register

    p.mt-3.text-center
      | Already have an account? 
      a(href='/login')   Log in

  script.
    (function(){
      function validateMatch(){
        var p1 = document.getElementById('password');
        var p2 = document.getElementById('confirm');
        if(!p1 || !p2) return;
        p2.addEventListener('input', function(){
          p2.setCustomValidity(p2.value === p1.value ? '' : 'Passwords do not match');
        });
        p1.addEventListener('input', function(){
          p2.dispatchEvent(new Event('input'));
        });
      }
      validateMatch();
    })();
